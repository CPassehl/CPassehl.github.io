<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>grab that video</title>
    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.8/p5.js"  ></script>  

   <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.8/addons/p5.dom.js"></script>  

   <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.8/addons/p5.sound.js"></script> 

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</head>
<body>

<script>
    var vid1;
    var capture;
    var x = 0;
    var y = 0;
    var backGd;

function setup() {
  capture = createCapture(VIDEO);
  capture.size(800, 600);
  createCanvas(800, 600);
  backGd = VIDEO;
    //frameRate(60);
  //vid1.hide();
  //noStroke();
  fill(0);

  capture.hide();
}

function draw() {
  background(backGd);
  capture.loadPixels();
//           for (var y = 0; y < height; y++) {
//         for (var x = 0; x < width; x++) {
//       var index = (x + y * width)*4;
//       pixels[index+0] = x;
//       pixels[index+1] = random(255) ;
//       pixels[index+2] = y;
//       pixels[index+3] = 255;      
//     }
//   }

   image.position(100, 0);   
  image(capture, x, y++, 800, 200);
 // filter('blur', 30);
  //filter('INVERT');

  tint(255, mouseY, mouseX, 180);
    
    //updatePixels();


  //image(capture, mouseX, 0, 800, 600);
//   strokeWeight(8);
//   stroke(226, 204, 0, 50);
//   line(x + 150, 0, width, y);  
//   stroke(226, 150, 0);
//   line(x + 45, y, width, y);
//   y++;
//   x++;
//   if (y > height || x > width) {
//     y = 0;
//     x = 0;
// }
}


// var capture;

// function setup() {
//   createCanvas(390, 240);
//   vid1 = createCapture(VIDEO);
//   vid1.size(320, 240);
//   //capture.hide();
// }

// function draw() {
//   background(255);
//   image(vid1, 0, 0, 320, 240);
//   filter('INVERT');
// }
</script>
</body>
</html>
